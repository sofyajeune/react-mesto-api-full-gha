{"ast":null,"code":"import _slicedToArray from\"/Users/sofya/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import PopupWithForm from\"./PopupWithForm\";import{CurrentUserContext}from'../contexts/CurrentUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(props){var isOpen=props.isOpen,onClose=props.onClose,onUpdateUser=props.onUpdateUser;//Подписываемся на контекст\nvar currentUser=React.useContext(CurrentUserContext);var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),description=_React$useState4[0],setDescription=_React$useState4[1];// После загрузки текущего пользователя из API\n// его данные будут использованы в управляемых компонентах.\nReact.useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser,isOpen]);//Функция для изменения имени\nfunction handleUserNameChange(event){setName(event.target.value);}//Функция для изменения описания\nfunction handleUserDescriptionChange(event){setDescription(event.target.value);}//Обработчик сабмита формы\nfunction handleSubmit(event){event.preventDefault();//Передача значений управляемых компонентов во внешний обработчик\nonUpdateUser({name:name,about:description});}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"edit-form\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",isOpen:isOpen,onClose:onClose,buttonName:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",className:\"popup__input popup__input_data_name\",id:\"data_name\",minLength:2,maxLength:40,placeholder:\"\\u0418\\u043C\\u044F\",required:true,onChange:handleUserNameChange,value:name||\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__form-input-error\",id:\"data_name-error\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"about\",className:\"popup__input popup__input_data_job\",id:\"data_job\",minLength:2,maxLength:200,placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",required:true,onChange:handleUserDescriptionChange,value:description||\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__form-input-error\",id:\"data_job-error\"})]});}export default EditProfilePopup;","map":{"version":3,"names":["React","PopupWithForm","CurrentUserContext","EditProfilePopup","props","isOpen","onClose","onUpdateUser","currentUser","useContext","useState","name","setName","description","setDescription","useEffect","about","handleUserNameChange","event","target","value","handleUserDescriptionChange","handleSubmit","preventDefault"],"sources":["/Users/sofya/dev/react-mesto-auth/src/components/EditProfilePopup.js"],"sourcesContent":["import React from 'react';\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n\n    const { isOpen, onClose, onUpdateUser } = props\n    //Подписываемся на контекст\n    const currentUser = React.useContext(CurrentUserContext);\n\n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n\n  // После загрузки текущего пользователя из API\n// его данные будут использованы в управляемых компонентах.\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser, isOpen])\n\n    //Функция для изменения имени\n    function handleUserNameChange(event) {\n        setName(event.target.value)\n    }\n\n    //Функция для изменения описания\n    function handleUserDescriptionChange(event) {\n        setDescription(event.target.value)\n    }\n\n    //Обработчик сабмита формы\n    function handleSubmit(event) {\n        event.preventDefault();\n        //Передача значений управляемых компонентов во внешний обработчик\n        onUpdateUser({\n            name: name,\n            about: description\n        });\n    }\n\n    return (\n\n        <PopupWithForm\n            name=\"edit-form\"\n            title=\"Редактировать профиль\"\n            isOpen={isOpen}\n            onClose={onClose}\n            buttonName='Сохранить'\n            onSubmit={handleSubmit}>\n            <input type=\"text\" name=\"name\" className=\"popup__input popup__input_data_name\" id=\"data_name\" minLength={2} maxLength={40} placeholder=\"Имя\" required onChange={handleUserNameChange} value={name || \"\"} />\n            <span className=\"popup__form-input-error\" id=\"data_name-error\" />\n            <input type=\"text\" name=\"about\" className=\"popup__input popup__input_data_job\" id=\"data_job\" minLength={2} maxLength={200} placeholder=\"О себе\" required onChange={handleUserDescriptionChange} value={description || \"\"} />\n            <span className=\"popup__form-input-error\" id=\"data_job-error\" />\n        </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup;"],"mappings":"uHAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,cAAa,KAAM,iBAAiB,CAC3C,OAASC,kBAAkB,KAAQ,gCAAgC,CAAC,wFAEpE,QAASC,iBAAgB,CAACC,KAAK,CAAE,CAE7B,GAAQC,OAAM,CAA4BD,KAAK,CAAvCC,MAAM,CAAEC,OAAO,CAAmBF,KAAK,CAA/BE,OAAO,CAAEC,YAAY,CAAKH,KAAK,CAAtBG,YAAY,CACrC;AACA,GAAMC,YAAW,CAAGR,KAAK,CAACS,UAAU,CAACP,kBAAkB,CAAC,CAExD,oBAAwBF,KAAK,CAACU,QAAQ,CAAC,EAAE,CAAC,oDAAnCC,IAAI,qBAAEC,OAAO,qBACpB,qBAAsCZ,KAAK,CAACU,QAAQ,CAAC,EAAE,CAAC,qDAAjDG,WAAW,qBAAEC,cAAc,qBAEpC;AACF;AACId,KAAK,CAACe,SAAS,CAAC,UAAM,CAClBH,OAAO,CAACJ,WAAW,CAACG,IAAI,CAAC,CACzBG,cAAc,CAACN,WAAW,CAACQ,KAAK,CAAC,CACrC,CAAC,CAAE,CAACR,WAAW,CAAEH,MAAM,CAAC,CAAC,CAEzB;AACA,QAASY,qBAAoB,CAACC,KAAK,CAAE,CACjCN,OAAO,CAACM,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAC/B,CAEA;AACA,QAASC,4BAA2B,CAACH,KAAK,CAAE,CACxCJ,cAAc,CAACI,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CACtC,CAEA;AACA,QAASE,aAAY,CAACJ,KAAK,CAAE,CACzBA,KAAK,CAACK,cAAc,EAAE,CACtB;AACAhB,YAAY,CAAC,CACTI,IAAI,CAAEA,IAAI,CACVK,KAAK,CAAEH,WACX,CAAC,CAAC,CACN,CAEA,mBAEI,MAAC,aAAa,EACV,IAAI,CAAC,WAAW,CAChB,KAAK,CAAC,2HAAuB,CAC7B,MAAM,CAAER,MAAO,CACf,OAAO,CAAEC,OAAQ,CACjB,UAAU,CAAC,wDAAW,CACtB,QAAQ,CAAEgB,YAAa,wBACvB,cAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,qCAAqC,CAAC,EAAE,CAAC,WAAW,CAAC,SAAS,CAAE,CAAE,CAAC,SAAS,CAAE,EAAG,CAAC,WAAW,CAAC,oBAAK,CAAC,QAAQ,MAAC,QAAQ,CAAEL,oBAAqB,CAAC,KAAK,CAAEN,IAAI,EAAI,EAAG,EAAG,cAC3M,aAAM,SAAS,CAAC,yBAAyB,CAAC,EAAE,CAAC,iBAAiB,EAAG,cACjE,cAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,oCAAoC,CAAC,EAAE,CAAC,UAAU,CAAC,SAAS,CAAE,CAAE,CAAC,SAAS,CAAE,GAAI,CAAC,WAAW,CAAC,iCAAQ,CAAC,QAAQ,MAAC,QAAQ,CAAEU,2BAA4B,CAAC,KAAK,CAAER,WAAW,EAAI,EAAG,EAAG,cAC5N,aAAM,SAAS,CAAC,yBAAyB,CAAC,EAAE,CAAC,gBAAgB,EAAG,GACpD,CAExB,CAEA,cAAeV,iBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}